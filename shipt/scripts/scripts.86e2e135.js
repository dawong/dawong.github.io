"use strict";angular.module("shiptchallengeApp",[]),angular.module("shiptchallengeApp").controller("MainCtrl",["$scope","$http","UserService",function(a,b,c){a.user={},a.user.followers=[],a.user.name="",a.canLoadMore=!1;var d=1,e=0,f=2,g="";a.getUserInfo=function(){return a.user.name?void(a.user.name!=g&&c.getUserInfo(a.user.name).then(function(b){return b?($(".error-section").hide(),a.user.followers=[],a.userData=b,g=a.userData.login,d=1,e=b.followers,c.getFollowersInfo(g).then(function(b){var c=b.length;f>c||c==e?a.canLoadMore=!1:(a.canLoadMore=!0,d++),a.user.followers=b}),void 0):void $(".error-section").show()})):void $(".error-section").show()},a.loadMore=function(){c.getNextFollowersInfo(g,d).then(function(b){var c=a.user.followers.length,g=b.length;f>g||c+g==e?a.canLoadMore=!1:(a.canLoadMore=!0,d++),a.user.followers=a.user.followers.concat(b)})}}]),angular.module("shiptchallengeApp").service("UserService",["$http",function(a){this.getUserInfo=function(b){var c="https://api.github.com/users/"+b;return a.get(c).then(function(a){return a.data},function(a){console.log(a.status+": "+a.statusText)})},this.getFollowersInfo=function(b){var c="https://api.github.com/users/"+b+"/followers?per_page=2";return a.get(c).then(function(a){return a.data},function(a){console.log(a.status+": "+a.statusText)})},this.getNextFollowersInfo=function(b,c){var d="https://api.github.com/users/"+b+"/followers?per_page=2&page="+c;return a.get(d).then(function(a){return a.data},function(a){console.log(a.status+": "+a.statusText)})}}]),angular.module("shiptchallengeApp").run(["$templateCache",function(a){a.put("views/main.html",'<header> <div id="appHeader" class="container-fluid text-center"> <div>Github App</div> </div> </header> <div id="appBody" class="container-fluid addborders"> <div class="row"> <form> <div class="input-group search-bar"> <div class="input-group-btn"> <button class="btn btn-default" type="submit" ng-click="getUserInfo()"> <i class="glyphicon glyphicon-search"></i> </button> </div> <input ng-model="user.name" type="text" class="form-control" placeholder="Username"> </div> </form> </div> <hr style="margin-top: 0; width:50%"> <div class="row"> <div class="alert alert-danger error-section"> <strong>Error!</strong> Invalid username. Try again. </div> </div> <div class="row text-center" ng-if="userData"> <div> <a href="{{userData.html_url}}" target="_blank"> <img class="rounded-img" ng-if="userData.avatar_url" ng-src="{{userData.avatar_url}}" alt="avatarImg" height="300" width="300"> </a> </div> <div> <span class="span-block user-info-login">{{userData.login}}</span> <span class="span-block user-info-name">{{userData.name}}</span> <span class="span-block user-info-followers"># of followers: {{userData.followers}}</span> </div> </div> <hr ng-if="userData"> <div ng-if="user.followers.length > 0" class="text-center"> <p> <span class="follower-header">Followers:</span> </p> </div> <div class="row"> <ul> <li class="follower-li flex-display" ng-repeat="follower in user.followers track by $index"> <a href="{{follower.html_url}}" target="_blank"> <img class="follower-img rounded-img" ng-src="{{follower.avatar_url}}" alt="followerImg"> </a> <div>{{follower.login}}</div> </li> </ul> </div> <hr ng-if="canLoadMore" style="margin-bottom: 0"> <div class="row text-center" ng-if="canLoadMore"> <button class="btn btn-load-more" type="button" ng-click="loadMore()">Load More</button> </div> </div>')}]);