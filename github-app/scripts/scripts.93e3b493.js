"use strict";angular.module("shiptchallengeApp",[]),angular.module("shiptchallengeApp").controller("MainCtrl",["$scope","UserService",function(a,b){a.user={},a.user.followers=[],a.user.name="",a.canLoadMore=!1,a.showError=!1;var c=1,d=0,e=2,f="";a.getUserInfo=function(){return a.user.name?a.user.name==f?!1:void b.getUserInfo(a.user.name).then(function(g){return g?(a.showError=!1,a.user.followers=[],a.userData=g,f=a.userData.login,c=1,d=g.followers,b.getFollowersInfo(f).then(function(b){var f=b.length;e>f||f==d?a.canLoadMore=!1:(a.canLoadMore=!0,c++),a.user.followers=b}),void 0):(a.showError=!0,!1)}):(a.showError=!0,!1)},a.loadMore=function(){b.getNextFollowersInfo(f,c).then(function(b){var f=a.user.followers.length,g=b.length;e>g||f+g==d?a.canLoadMore=!1:(a.canLoadMore=!0,c++),a.user.followers=a.user.followers.concat(b)})}}]),angular.module("shiptchallengeApp").service("UserService",["$http",function(a){this.getUserInfo=function(b){var c="https://api.github.com/users/"+b;return a.get(c).then(function(a){return a.data},function(a){console.log(a.status+": "+a.statusText)})},this.getFollowersInfo=function(b){var c="https://api.github.com/users/"+b+"/followers?per_page=2";return a.get(c).then(function(a){return a.data},function(a){console.log(a.status+": "+a.statusText)})},this.getNextFollowersInfo=function(b,c){var d="https://api.github.com/users/"+b+"/followers?per_page=2&page="+c;return a.get(d).then(function(a){return a.data},function(a){console.log(a.status+": "+a.statusText)})}}]),angular.module("shiptchallengeApp").run(["$templateCache",function(a){a.put("views/main.html",'<header> <div id="appHeader" class="container-fluid text-center"> <div>Github App</div> </div> </header> <div id="appBody" class="container-fluid addborders"> <div class="row"> <form> <div class="input-group search-bar"> <div class="input-group-btn"> <button class="btn btn-default" type="submit" ng-click="getUserInfo()"> <i class="glyphicon glyphicon-search"></i> </button> </div> <input ng-model="user.name" type="text" class="form-control" placeholder="Username"> </div> </form> </div> <div class="row"> <div ng-if="showError" class="alert alert-danger error-section text-center"> <strong>Error!</strong> Invalid username. Try again. </div> </div> <div class="row text-center" ng-if="userData"> <div> <a href="{{userData.html_url}}" target="_blank"> <img class="rounded-img" ng-if="userData.avatar_url" ng-src="{{userData.avatar_url}}" alt="avatarImg" height="300" width="300"> </a> </div> <div> <span class="span-block user-info-login">{{userData.login}}</span> <span class="span-block user-info-name">{{userData.name}}</span> <span class="span-block user-info-followers"># of followers: {{userData.followers}}</span> </div> </div> <hr ng-if="user.followers.length > 0"> <div ng-if="user.followers.length > 0" class="text-center"> <p> <span class="follower-header">Followers:</span> </p> </div> <div class="row"> <ul> <li class="follower-li flex-display" ng-repeat="follower in user.followers track by $index"> <a href="{{follower.html_url}}" target="_blank"> <img class="follower-img rounded-img" ng-src="{{follower.avatar_url}}" alt="followerImg"> </a> <div> <span class="follower-span">{{follower.login}}</span> </div> </li> </ul> </div> <div class="row text-center" ng-if="canLoadMore"> <button class="btn btn-load-more" type="button" ng-click="loadMore()">Load More</button> </div> </div>')}]);